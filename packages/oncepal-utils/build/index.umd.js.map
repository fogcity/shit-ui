{"version":3,"file":"index.umd.js","sources":["../src/index.ts"],"sourcesContent":["const copy = (text: string) => {\r\n    const transfer = document.createElement('input');\r\n    document.body.appendChild(transfer);\r\n    transfer.value = text;\r\n    transfer.select();\r\n    if (document.execCommand('copy')) {\r\n      document.execCommand('copy');\r\n    }\r\n    document.body.removeChild(transfer);\r\n  };\r\n  function useCSSLink(url: string) {\r\n    const link = document.createElement('link');\r\n    link.rel = 'stylesheet';\r\n    link.type = 'text/css';\r\n    link.href = url;\r\n    document.getElementsByTagName('head')[0].appendChild(link);\r\n  }\r\n  function debounce(fn: Function, ms = 300) {\r\n    let timeoutId: ReturnType<typeof setTimeout>;\r\n    return function (this: any, ...args: any[]) {\r\n      clearTimeout(timeoutId);\r\n      timeoutId = setTimeout(() => fn.apply(this, args), ms);\r\n    };\r\n  }\r\n  function throttle(fn: Function, wait = 300) {\r\n    let inThrottle: boolean, lastFn: ReturnType<typeof setTimeout>, lastTime: number;\r\n    return function (this: any) {\r\n      const context = this,\r\n        args = arguments;\r\n      if (!inThrottle) {\r\n        fn.apply(context, args);\r\n        lastTime = Date.now();\r\n        inThrottle = true;\r\n      } else {\r\n        clearTimeout(lastFn);\r\n        lastFn = setTimeout(() => {\r\n          if (Date.now() - lastTime >= wait) {\r\n            fn.apply(context, args);\r\n            lastTime = Date.now();\r\n          }\r\n        }, Math.max(wait - (Date.now() - lastTime), 0));\r\n      }\r\n    };\r\n  }\r\n  function isBrowerTabInView() {\r\n    return !document.hidden;\r\n  }\r\n  const clamp = (target: number, min: number, max: number) => {\r\n    if (target < min) {\r\n      return min;\r\n    } else if (target > max) {\r\n      return max;\r\n    }\r\n    return target;\r\n  };\r\n  const isWX = () => {\r\n    const wx = navigator.userAgent.toLowerCase();\r\n    if ((wx as any).match(/MicroMessenger/i) == 'micromessenger') {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const isAndroid = () => {\r\n    const android = navigator.userAgent;\r\n    if (android.indexOf('Android') > -1 || android.indexOf('Adr') > -1) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  const isIos = () => {\r\n    const ios = navigator.userAgent;\r\n    if (!!ios.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/)) {\r\n      return true;\r\n    }\r\n    return false;\r\n  };\r\n  \r\n  const callPhoneNumber = (phoneNumber: string) => {\r\n    window.location.href = 'tel:' + phoneNumber;\r\n  };\r\n  const linkToRoute =(path:string)=>{\r\n    window.location.href = window.location.origin+path\r\n  }\r\n  const transformFetchParamsInGet = (params: { [key: string]: any }) => {\r\n    let result = '?';\r\n    for (const key in params) {\r\n      if ((params.prototype || params).hasOwnProperty.call(params, key)) {\r\n        result =\r\n          result + `${key}=${params[key]}` + (Object.keys(params)[Object.keys(params).length - 1] == key ? '' : '&');\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  const useUrlParams = (name: string) => {\r\n    const reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');\r\n    const r = window.location.search.substr(1).match(reg);\r\n    if (r != null) return unescape(r[2]);\r\n    return '';\r\n  };\r\n  \r\n  const getUUID = () => {\r\n    const url = URL.createObjectURL(new Blob([]));\r\n    // const uuid = url.split(\"/\").pop();\r\n    const uuid = url.substring(url.lastIndexOf('/') + 1);\r\n    URL.revokeObjectURL(url);\r\n    return uuid;\r\n  };\r\n  \r\n  const humpToUnderline = (str: string) => {\r\n    return str.replace(/([A-Z])/g, '_$1').toLowerCase();\r\n  };\r\n  const underlineToHump = (str: string) => {\r\n    const a = str.split('_');\r\n    let result = a[0];\r\n    for (let i = 1; i < a.length; i++) {\r\n      result = result + a[i].slice(0, 1).toUpperCase() + a[i].slice(1);\r\n    }\r\n    return result;\r\n  };\r\n  \r\n  function utf8ToB64(str: string) {\r\n    return window.btoa(unescape(encodeURIComponent(str)));\r\n  }\r\n  \r\n  function b64ToUtf8(str: string) {\r\n    return decodeURIComponent(escape(window.atob(str)));\r\n  }\r\n  \r\n  function isPC() {\r\n    return !isAndroid() && !isWX() && !isIos();\r\n  }\r\n  function isBrowerDarkMode() {\r\n    return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n  }\r\n  function isObject(item: any) {\r\n    return item && typeof item === 'object' && item.constructor === Object;\r\n  }\r\n  \r\n  function deepMerge(target: any, source: any) {\r\n    for (const key of Object.keys(source)) {\r\n      if (source[key] instanceof Object) Object.assign(source[key], deepMerge(target[key], source[key]));\r\n    }\r\n  \r\n    // Join `target` and modified `source`\r\n    Object.assign(target || {}, source);\r\n    return target;\r\n  }\r\n  \r\n  function dec2hex(dec: { toString: (arg0: number) => string }) {\r\n    return ('0' + dec.toString(16)).substring(-2);\r\n  }\r\n  \r\n  function randomString(len = 50) {\r\n    const arr = new Uint8Array(len / 2);\r\n    window.crypto.getRandomValues(arr);\r\n    return Array.from(arr, dec2hex).join('');\r\n  }\r\n  function sendMessage(phone: string | number, content = '') {\r\n    window.location.href = 'tel:' + phone;\r\n  }\r\n  export {\r\n    sendMessage,\r\n    isBrowerDarkMode,\r\n    isObject,\r\n    debounce,\r\n    useCSSLink,\r\n    randomString,\r\n    utf8ToB64,\r\n    b64ToUtf8,\r\n    underlineToHump,\r\n    humpToUnderline,\r\n    useUrlParams,\r\n    transformFetchParamsInGet,\r\n    callPhoneNumber,\r\n    isPC,\r\n    isWX,\r\n    isAndroid,\r\n    isIos,\r\n    isBrowerTabInView,\r\n    throttle,\r\n    copy,\r\n    clamp,\r\n    getUUID,\r\n    linkToRoute,\r\n    deepMerge,\r\n  };\r\n  "],"names":[],"mappings":"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"}